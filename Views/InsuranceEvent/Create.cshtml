@model InsuranceEventCreateViewModel

<div class="row">
    <div class="col-md-8 mx-auto rounded border p-3">
        <h2 class="text-center mb-5">
            Nová pojistná událost pro: @(Model.InsuredPerson != null ? Model.InsuredPerson.FullName : "neznámého pojištěného")
        </h2>

        <form asp-controller="InsuranceEvent" asp-action="Create" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>

            <input type="hidden" asp-for="InsuredPersonId" />

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label" for="AgreedInsuranceId">Vyberte sjednané pojištění</label>
                <div class="col-sm-8">
                    <select asp-for="AgreedInsuranceId" asp-items="Model.AgreedInsurances" class="form-control"></select>
                    <span asp-validation-for="AgreedInsuranceId" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Popis pojistné události</label>
                <div class="col-sm-8">
                    <textarea class="form-control" asp-for="EventDescription"></textarea>
                    <span asp-validation-for="EventDescription" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Vyčíslená škoda</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="AmountOfDamage" />
                    <span asp-validation-for="AmountOfDamage" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Datum události</label>
                <div class="col-sm-8">
                    <input asp-for="OccurredOn" type="date" class="form-control" value="@Model.OccurredOn.ToString("yyyy-MM-dd")" />
                    <span asp-validation-for="OccurredOn" class="text-danger"></span>
                </div>
            </div>

            <div class="row">
                <div class="offset-sm-4 col-sm-4 d-grid">
                    <button type="submit" class="btn btn-primary">Přidat</button>
                </div>
                <div class="col-sm-4 d-grid">
                    <a class="btn btn-outline-primary" asp-controller="InsuredPerson" asp-action="Detail" asp-route-email="@ViewData["Email"]"
                       role="button">Zrušit</a>
                </div>
            </div>
        </form>
    </div>
</div>